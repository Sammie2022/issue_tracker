<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Projects</h1>
  <%= link_to "New Project", new_project_path, class: "btn btn-primary" %>
</div>

<!-- Chart Section -->
<div class="mb-5">
  <h4>Issues per Project</h4>
  <%= column_chart @projects.map { |p| [p.title, p.issues.count] }, height: "300px", library: { backgroundColor: "transparent" } %>
</div>

<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @projects.each do |project| %>
      <tr>
        <td><%= project.title %></td>
        <td><%= truncate(project.description, length: 60) %></td>
        <td>
          <%= link_to "Show", project_path(project), class: "btn btn-sm btn-outline-secondary me-2" %>
          <%= link_to "Edit", edit_project_path(project), class: "btn btn-sm btn-outline-primary me-2" %>
          <%= link_to "Delete", project_path(project), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-outline-danger" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
